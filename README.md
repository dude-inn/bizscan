# BizScan Bot - –ê–≥—Ä–µ–≥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –æ –∫–æ–º–ø–∞–Ω–∏—è—Ö

Telegram-–±–æ—Ç –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö –∫–æ–º–ø–∞–Ω–∏—è—Ö –∏–∑ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö.

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–ü–æ–∏—Å–∫ –∫–æ–º–ø–∞–Ω–∏–π** –ø–æ –ò–ù–ù, –û–ì–†–ù –∏–ª–∏ –Ω–∞–∑–≤–∞–Ω–∏—é
- **–ê–≥—Ä–µ–≥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö** –∏–∑ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤:
  - **DaData API** (–æ—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ–º–ø–∞–Ω–∏–∏)
  - **–ì–ò–† –ë–û** (—Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –∏–∑ –§–ù–°)
  - **–ï–ò–°** (—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –≥–æ—Å–∑–∞–∫—É–ø–∫–∞–º)
  - **–†–ê–†** (–ª–∏—Ü–µ–Ω–∑–∏–∏ –Ω–∞ –∞–ª–∫–æ–≥–æ–ª—å)
  - **–ü—Ä–æ–∑—Ä–∞—á–Ω—ã–π –±–∏–∑–Ω–µ—Å** (–æ—Ç–∫—Ä—ã—Ç—ã–µ –¥–∞–Ω–Ω—ã–µ –§–ù–°)
  - **–†–µ–µ—Å—Ç—Ä –ú–°–ü** (—Å—Ç–∞—Ç—É—Å —Å—É–±—ä–µ–∫—Ç–∞ –ú–°–ü)
  - **–ï–§–†–°–ë** (–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–µ) - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
  - **–ö–ê–î** (–∞—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–µ –¥–µ–ª–∞) - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
- **–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—Ç—á—ë—Ç—ã** —Å —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–º–∏ –ø–æ–∫–∞–∑–∞—Ç–µ–ª—è–º–∏, –∑–∞–∫—É–ø–∫–∞–º–∏ –∏ –ª–∏—Ü–µ–Ω–∑–∏—è–º–∏
- **–≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö** –≤ JSON —Ñ–æ—Ä–º–∞—Ç–µ
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- **–ì—Ä–µ–π—Å—Ñ—É–ª-–¥–µ–≥—Ä–∞–¥–∞—Ü–∏—è** –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.6+ (—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Ç–∏–ø–∏–∑–∞—Ü–∏–µ–π)
- Telegram Bot Token
- DaData API Key (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)

## üîß –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞ —Ç–∏–ø–∏–∑–∞—Ü–∏–∏ Python
–ï—Å–ª–∏ –≤—ã –ø–æ–ª—É—á–∞–µ—Ç–µ –æ—à–∏–±–∫—É `TypeError: 'type' object is not subscriptable`, —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–æ–≤—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å —Ç–∏–ø–∏–∑–∞—Ü–∏–∏ Python 3.9+ —Å –±–æ–ª–µ–µ —Å—Ç–∞—Ä–æ–π –≤–µ—Ä—Å–∏–µ–π Python.

**–†–µ—à–µ–Ω–∏–µ:** –ö–æ–¥ —É–∂–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å Python 3.6+:
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `List[Type]` –≤–º–µ—Å—Ç–æ `list[Type]`
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `Dict[Key, Value]` –≤–º–µ—Å—Ç–æ `dict[Key, Value]`

### –û—à–∏–±–∫–∞ PowerShell Execution Policy (Windows)
–ï—Å–ª–∏ –≤—ã –ø–æ–ª—É—á–∞–µ—Ç–µ –æ—à–∏–±–∫—É `PSSecurityException` –ø—Ä–∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

**–†–µ—à–µ–Ω–∏–µ:**
```powershell
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser
```

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã –∞–∫—Ç–∏–≤–∞—Ü–∏–∏:
```powershell
# –°–ø–æ—Å–æ–± 1: –ü—Ä—è–º–æ–π –≤—ã–∑–æ–≤ Python
& d:/Dev/bizscan/venv/Scripts/python.exe d:/Dev/bizscan/app.py

# –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ cmd
venv\Scripts\activate.bat
```

## üõ† –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
```bash
git clone <repository-url>
cd bizscan
```

2. **–°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:**
```bash
python -m venv venv
# Windows
venv\Scripts\activate
# Linux/Mac
source venv/bin/activate
```

3. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
```bash
pip install -r requirements.txt
```

4. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
```bash
cp env.example .env
```

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `.env` —Ñ–∞–π–ª:
```env
# –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
BOT_TOKEN=your_telegram_bot_token_here
DADATA_API_KEY=your_dadata_api_key_here

# –ì–ò–† –ë–û (—Ñ–∏–Ω–∞–Ω—Å—ã) - –≤–∫–ª—é—á–µ–Ω–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
FEATURE_GIRBO=true
GIRBO_BASE_URL=https://bo.nalog.gov.ru
GIRBO_TOKEN=your_girbo_token_here  # –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ

# –ï–ò–° (–≥–æ—Å–∑–∞–∫—É–ø–∫–∏) - –æ—Ç–∫–ª—é—á–µ–Ω–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
FEATURE_ZAKUPKI=false
ZAKUPKI_MODE=soap  # soap | dataset
ZAKUPKI_WSDL_URL=your_wsdl_url_here
ZAKUPKI_DATASET_URL=your_dataset_url_here

# –†–ê–† (–ª–∏—Ü–µ–Ω–∑–∏–∏ –∞–ª–∫–æ–≥–æ–ª—å) - –æ—Ç–∫–ª—é—á–µ–Ω–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
FEATURE_FSRAR=false
FSRAR_API_URL=your_fsrar_api_url_here
FSRAR_DATASET_URL=your_fsrar_dataset_url_here

# –ü—Ä–æ–∑—Ä–∞—á–Ω—ã–π –±–∏–∑–Ω–µ—Å (–æ—Ç–∫—Ä—ã—Ç—ã–µ –¥–∞–Ω–Ω—ã–µ) - –≤–∫–ª—é—á–µ–Ω–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
FEATURE_PB=true
PB_DATASETS={"addresses": "https://www.nalog.ru/opendata/...", "disqualification": "https://www.nalog.ru/opendata/..."}

# –ú–°–ü - –≤–∫–ª—é—á–µ–Ω–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
FEATURE_MSME=true

# –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã
FEATURE_EFRSB=false
FEATURE_KAD=false
```

## üîë –ü–æ–ª—É—á–µ–Ω–∏–µ API –∫–ª—é—á–µ–π

### DaData API (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ [dadata.ru](https://dadata.ru)
2. –ü–æ–ª—É—á–∏—Ç–µ API –∫–ª—é—á –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ
3. –î–æ–±–∞–≤—å—Ç–µ –∫–ª—é—á –≤ `.env` —Ñ–∞–π–ª

### –ì–ò–† –ë–û (—Ñ–∏–Ω–∞–Ω—Å—ã) - –≤–∫–ª—é—á–µ–Ω–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- **–ò—Å—Ç–æ—á–Ω–∏–∫:** [bo.nalog.gov.ru](https://bo.nalog.gov.ru)
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–π —Ä–µ—Å—É—Ä—Å –±—É—Ö–≥–∞–ª—Ç–µ—Ä—Å–∫–æ–π –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç–∏
- **–¢–æ–∫–µ–Ω:** –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** [FAQ/REST API](https://bo.nalog.gov.ru)

### –ï–ò–° (–≥–æ—Å–∑–∞–∫—É–ø–∫–∏) - –æ—Ç–∫–ª—é—á–µ–Ω–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- **–ò—Å—Ç–æ—á–Ω–∏–∫:** [zakupki.gov.ru](https://zakupki.gov.ru)
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –ï–¥–∏–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –≤ —Å—Ñ–µ—Ä–µ –∑–∞–∫—É–ø–æ–∫
- **–†–µ–∂–∏–º—ã:** SOAP API –∏–ª–∏ –æ—Ç–∫—Ä—ã—Ç—ã–µ –¥–∞—Ç–∞—Å–µ—Ç—ã
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** [–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å–∞–π—Ç](https://zakupki.gov.ru)

### –†–ê–† (–ª–∏—Ü–µ–Ω–∑–∏–∏ –∞–ª–∫–æ–≥–æ–ª—å) - –æ—Ç–∫–ª—é—á–µ–Ω–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- **–ò—Å—Ç–æ—á–Ω–∏–∫:** [fsrar.gov.ru](https://fsrar.gov.ru)
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –†–µ–µ—Å—Ç—Ä –ª–∏—Ü–µ–Ω–∑–∏–π –†–æ—Å–∞–ª–∫–æ–≥–æ–ª—å—Ä–µ–≥—É–ª–∏—Ä–æ–≤–∞–Ω–∏—è
- **–†–µ–∂–∏–º—ã:** API –∏–ª–∏ –æ—Ç–∫—Ä—ã—Ç—ã–µ –¥–∞—Ç–∞—Å–µ—Ç—ã
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** [–°–≤–æ–¥–Ω—ã–π —Ä–µ–µ—Å—Ç—Ä](https://fsrar.gov.ru)

### –ü—Ä–æ–∑—Ä–∞—á–Ω—ã–π –±–∏–∑–Ω–µ—Å (–æ—Ç–∫—Ä—ã—Ç—ã–µ –¥–∞–Ω–Ω—ã–µ) - –≤–∫–ª—é—á–µ–Ω–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- **–ò—Å—Ç–æ—á–Ω–∏–∫:** [pb.nalog.ru](https://pb.nalog.ru)
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –û—Ç–∫—Ä—ã—Ç—ã–µ –¥–∞–Ω–Ω—ã–µ –§–ù–°
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** [–ü—Ä–æ–∑—Ä–∞—á–Ω—ã–π –±–∏–∑–Ω–µ—Å](https://pb.nalog.ru)

### –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã

#### –ï–§–†–°–ë (–±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–æ)
- –ü–æ–ª—É—á–∏—Ç–µ API –∫–ª—é—á —É –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ [api-assist.com](https://api-assist.com)
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `FEATURE_EFRSB=true` –≤ `.env`

#### –ö–ê–î (–∞—Ä–±–∏—Ç—Ä–∞–∂)
- –ü–æ–ª—É—á–∏—Ç–µ API –∫–ª—é—á —É –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ [api-assist.com](https://api-assist.com)
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `FEATURE_KAD=true` –≤ `.env`

## üöÄ –ó–∞–ø—É—Å–∫

```bash
python app.py
```

## üì± –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

1. –ù–∞–π–¥–∏—Ç–µ –±–æ—Ç–∞ –≤ Telegram
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/start`
3. –í—ã–±–µ—Ä–∏—Ç–µ "üîç –ù–∞–π—Ç–∏ –∫–æ–º–ø–∞–Ω–∏—é"
4. –í–≤–µ–¥–∏—Ç–µ –ò–ù–ù, –û–ì–†–ù –∏–ª–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏
5. –í—ã–±–µ—Ä–∏—Ç–µ "üìä –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –æ—Ç—á—ë—Ç"
6. –ü–æ–ª—É—á–∏—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é

### –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞

```
üßæ –†–µ–∫–≤–∏–∑–∏—Ç—ã
–û–û–û "–†–û–ú–ê–®–ö–ê" ‚Ä¢ –ò–ù–ù 7700000000 ‚Ä¢ –û–ì–†–ù 1027700000000
üìç –ê–¥—Ä–µ—Å: –≥. –ú–æ—Å–∫–≤–∞, —É–ª. –ü—Ä–∏–º–µ—Ä–Ω–∞—è, –¥. 1 (qc=0)
üìÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è: 2010-03-12 ‚Ä¢ –°—Ç–∞—Ç—É—Å: ‚úÖ ACTIVE
üè∑Ô∏è –û–ö–í–≠–î: 62.01 –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –ü–û

üßë‚Äçüíº –†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å
–ò–≤–∞–Ω–æ–≤ –ò.–ò. ‚Äî –ì–µ–Ω–µ—Ä–∞–ª—å–Ω—ã–π –¥–∏—Ä–µ–∫—Ç–æ—Ä

üß© –ú–°–ü
–ö–∞—Ç–µ–≥–æ—Ä–∏—è: –º–∞–ª–æ–µ (–Ω–∞ 2025-08)

‚öñÔ∏è –ë–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–æ
–ù–µ—Ç –∑–∞–ø–∏—Å–µ–π

üìÑ –ê—Ä–±–∏—Ç—Ä–∞–∂ (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 3)
1. –ê40-12345/2024 ‚Äî –∏—Å—Ç–µ—Ü, 2024-09-01 ‚Äî 1 –∏–Ω—Å—Ç–∞–Ω—Ü–∏—è
2. –ê40-67890/2024 ‚Äî –æ—Ç–≤–µ—Ç—á–∏–∫, 2024-08-15 ‚Äî 1 –∏–Ω—Å—Ç–∞–Ω—Ü–∏—è

üîó –ò—Å—Ç–æ—á–Ω–∏–∫–∏: DaData (API v4.1), –†–µ–µ—Å—Ç—Ä –ú–°–ü (–û—Ç–∫—Ä—ã—Ç—ã–µ –¥–∞–Ω–Ω—ã–µ –§–ù–°)
```

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
bizscan/
‚îú‚îÄ‚îÄ bot/                    # Telegram –±–æ—Ç
‚îÇ   ‚îú‚îÄ‚îÄ handlers/          # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥
‚îÇ   ‚îú‚îÄ‚îÄ keyboards/         # –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã
‚îÇ   ‚îî‚îÄ‚îÄ states.py          # FSM —Å–æ—Å—Ç–æ—è–Ω–∏—è
‚îú‚îÄ‚îÄ services/              # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ providers/         # –ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dadata.py      # DaData API
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ msme.py        # –†–µ–µ—Å—Ç—Ä –ú–°–ü
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ efrsb.py       # –ï–§–†–°–ë
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ kad.py         # –ö–ê–î
‚îÇ   ‚îú‚îÄ‚îÄ aggregator.py      # –ê–≥—Ä–µ–≥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îî‚îÄ‚îÄ cache.py           # –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îú‚îÄ‚îÄ domain/                # –î–æ–º–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏
‚îÇ   ‚îî‚îÄ‚îÄ models.py          # Pydantic –º–æ–¥–µ–ª–∏
‚îú‚îÄ‚îÄ core/                  # –Ø–¥—Ä–æ —Å–∏—Å—Ç–µ–º—ã
‚îÇ   ‚îú‚îÄ‚îÄ config.py          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ db.py              # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îî‚îÄ‚îÄ logger.py          # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îî‚îÄ‚îÄ tests/                 # –¢–µ—Å—Ç—ã
    ‚îú‚îÄ‚îÄ test_providers.py   # –¢–µ—Å—Ç—ã –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
    ‚îî‚îÄ‚îÄ fixtures/           # –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
pytest

# –° –ø–æ–∫—Ä—ã—Ç–∏–µ–º
pytest --cov=services --cov=domain

# –¢–æ–ª—å–∫–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã
pytest tests/test_providers.py
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|------------|----------|--------------|
| `BOT_TOKEN` | Telegram Bot Token | - |
| `DADATA_API_KEY` | DaData API –∫–ª—é—á | - |
| `FEATURE_MSME` | –í–∫–ª—é—á–∏—Ç—å –ú–°–ü | `true` |
| `FEATURE_EFRSB` | –í–∫–ª—é—á–∏—Ç—å –ï–§–†–°–ë | `false` |
| `FEATURE_KAD` | –í–∫–ª—é—á–∏—Ç—å –ö–ê–î | `false` |
| `REQUEST_TIMEOUT` | –¢–∞–π–º–∞—É—Ç –∑–∞–ø—Ä–æ—Å–æ–≤ (—Å–µ–∫) | `10` |
| `MAX_RETRIES` | –ú–∞–∫—Å–∏–º—É–º –ø–æ–≤—Ç–æ—Ä–æ–≤ | `2` |

### –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ

- **DaData**: 24 —á–∞—Å–∞
- **–ú–°–ü**: 30 –¥–Ω–µ–π  
- **–ï–§–†–°–ë/–ö–ê–î**: 7 –¥–Ω–µ–π

## üîß –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```bash
pip install -r requirements.txt
```

### –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞

```bash
# Ruff (–ª–∏–Ω—Ç–µ—Ä)
ruff check .
ruff check --fix .

# Black (—Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä)
black .
```

### –¢–∏–ø–∏–∑–∞—Ü–∏—è

```bash
# MyPy
mypy .
```

## üìä –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö

### DaData API
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –û—Å–Ω–æ–≤–Ω–æ–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–æ–º–ø–∞–Ω–∏—è—Ö
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: [dadata.ru](https://dadata.ru)
- **–õ–∏–º–∏—Ç—ã**: –ó–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–∞—Ä–∏—Ñ–∞
- **–ö—ç—à**: 24 —á–∞—Å–∞

### –†–µ–µ—Å—Ç—Ä –ú–°–ü
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –°—Ç–∞—Ç—É—Å —Å—É–±—ä–µ–∫—Ç–∞ –º–∞–ª–æ–≥–æ –∏ —Å—Ä–µ–¥–Ω–µ–≥–æ –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å—Å—Ç–≤–∞
- **–ò—Å—Ç–æ—á–Ω–∏–∫**: –û—Ç–∫—Ä—ã—Ç—ã–µ –¥–∞–Ω–Ω—ã–µ –§–ù–°
- **URL**: [rmsp.nalog.ru](https://rmsp.nalog.ru)
- **–ö—ç—à**: 30 –¥–Ω–µ–π

### –ï–§–†–°–ë (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–µ
- **–ü—Ä–æ–≤–∞–π–¥–µ—Ä**: [api-assist.com](https://api-assist.com)
- **–õ–∏–º–∏—Ç—ã**: 200 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–µ—Å—è—Ü
- **–ö—ç—à**: 7 –¥–Ω–µ–π

### –ö–ê–î (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –ê—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–µ –¥–µ–ª–∞
- **–ü—Ä–æ–≤–∞–π–¥–µ—Ä**: [api-assist.com](https://api-assist.com)
- **–õ–∏–º–∏—Ç—ã**: –ó–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–∞—Ä–∏—Ñ–∞
- **–ö—ç—à**: 7 –¥–Ω–µ–π

## üöß –ü–ª–∞–Ω—ã —Ä–∞–∑–≤–∏—Ç–∏—è

- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Gamma.app –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç—á—ë—Ç–æ–≤
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö
- [ ] –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è
- [ ] API –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π
- [ ] –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

## ‚öñÔ∏è –Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ –æ–≥–æ–≤–æ—Ä–∫–∏

### –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö
- **DaData**: –ö–æ–º–º–µ—Ä—á–µ—Å–∫–∏–π API, —Ç—Ä–µ–±—É–µ—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏ –æ–ø–ª–∞—Ç—ã
- **–ì–ò–† –ë–û**: –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Ä–µ—Å—É—Ä—Å –§–ù–°, –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –¥–æ—Å—Ç—É–ø
- **–ï–ò–°**: –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –≥–æ—Å–∑–∞–∫—É–ø–æ–∫, –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –¥–æ—Å—Ç—É–ø
- **–†–ê–†**: –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Ä–µ–µ—Å—Ç—Ä –ª–∏—Ü–µ–Ω–∑–∏–π, –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –¥–æ—Å—Ç—É–ø
- **–ü—Ä–æ–∑—Ä–∞—á–Ω—ã–π –±–∏–∑–Ω–µ—Å**: –û—Ç–∫—Ä—ã—Ç—ã–µ –¥–∞–Ω–Ω—ã–µ –§–ù–°, –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –¥–æ—Å—Ç—É–ø
- **–†–µ–µ—Å—Ç—Ä –ú–°–ü**: –û—Ç–∫—Ä—ã—Ç—ã–µ –¥–∞–Ω–Ω—ã–µ –§–ù–°, –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –¥–æ—Å—Ç—É–ø
- **–ï–§–†–°–ë/–ö–ê–î**: –°—Ç–æ—Ä–æ–Ω–Ω–∏–µ API-–ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã, —Ç—Ä–µ–±—É—é—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- –î–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç—Å—è "–∫–∞–∫ –µ—Å—Ç—å" –±–µ–∑ –≥–∞—Ä–∞–Ω—Ç–∏–π –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ—Å–µ—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∑–∞ —Å–æ–±–ª—é–¥–µ–Ω–∏–µ –ª–∏—Ü–µ–Ω–∑–∏–π API
- –ó–∞–ø—Ä–µ—â–µ–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–ª—è –Ω–µ–∑–∞–∫–æ–Ω–Ω—ã—Ö —Ü–µ–ª–µ–π
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å–æ–±–ª—é–¥–∞—Ç—å rate limits –∏ —É—Å–ª–æ–≤–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤

### –°—Å—ã–ª–∫–∏ –Ω–∞ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏
- [–ì–ò–† –ë–û FAQ/REST API](https://bo.nalog.gov.ru)
- [–ü—Ä–æ–∑—Ä–∞—á–Ω—ã–π –±–∏–∑–Ω–µ—Å –∏ –æ—Ç–∫—Ä—ã—Ç—ã–µ –¥–∞–Ω–Ω—ã–µ –§–ù–°](https://pb.nalog.ru)
- [–ï–ò–° (–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å–∞–π—Ç)](https://zakupki.gov.ru)
- [–†–µ–µ—Å—Ç—Ä –ú–°–ü - –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º](https://rmsp.nalog.ru)
- [–†–µ–µ—Å—Ç—Ä –ª–∏—Ü–µ–Ω–∑–∏–π –†–ê–† (—Å–≤–æ–¥–Ω—ã–π —Ä–µ–µ—Å—Ç—Ä)](https://fsrar.gov.ru)

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

1. –§–æ—Ä–∫–Ω–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ç–∫—É –¥–ª—è –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
3. –í–Ω–µ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
4. –î–æ–±–∞–≤—å—Ç–µ —Ç–µ—Å—Ç—ã
5. –°–æ–∑–¥–∞–π—Ç–µ Pull Request

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è, —Å–æ–∑–¥–∞–π—Ç–µ Issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.