# BizScan Bot (Telegram, Python 3.11, aiogram 3)

Профессиональный Telegram-бот для проверки компаний с парсингом **rusprofile.ru**.
- Запуск без серверов: **long polling**
- Поиск по **ИНН** и **наименованию** с **пагинацией**
- Два отчёта: **бесплатный** (базовые поля) и **платный** (полный, все данные)
- **PDF генерация** с красивым дизайном (сине-белая палитра)
- Структурированные текстовые отчёты с эмодзи и секциями
- Оплата: заглушка с будущей интеграцией **ЮKassa**
- Все настройки — в `.env` файле

## Быстрый старт

1) Установите зависимости:
```bash
python -m venv .venv && source .venv/bin/activate  # Windows: .venv\Scripts\activate
pip install -r requirements.txt
```

2) Создайте `.env` файл на основе `.env.example`:
```bash
cp .env.example .env
```

Заполните обязательные поля в `.env`:
- `BOT_TOKEN` - токен вашего Telegram бота
- `RUSPROFILE_SESSID` - ID сессии подписчика rusprofile
- `RUSPROFILE_CSRF` - CSRF токен подписчика rusprofile
- `BRAND_LINK` - ссылка на ваш канал/группу

3) Запуск бота:
```bash
python app.py
```

## Новые возможности

### PDF отчёты
- **Красивый дизайн** в сине-белой палитре
- **Обложка** с названием компании и основными реквизитами
- **Структурированные секции** с карточками и таблицами
- **Автоматическая пагинация** и нумерация страниц
- **Zebra-таблицы** для финансовых данных

### Улучшенный парсинг
- **Модульная архитектура** с отдельными extractors и validators
- **Конфигурируемые лейблы** в `scraping/labels.yaml`
- **Валидация данных** (ИНН, ОГРН, КПП, даты)
- **Дедупликация контактов** и нормализация
- **Расширенные правовые индикаторы**

### UX улучшения
- **Индикаторы загрузки** "⏳ Формирую отчёт..."
- **Кнопки скачивания PDF** после генерации отчёта
- **Структурированные текстовые отчёты** с эмодзи
- **Обработка ошибок** с понятными сообщениями

> Примечание: Парсинг выполняется напрямую с rusprofile.ru. Соблюдайте их условия использования и не превышайте разумные лимиты запросов.
